function accordion() {

  const body = document.body;
  const trigger = body.querySelectorAll(".accordion-trigger");

  //ищем кнопки для отработки действия аккардиона
  for (let i = 0; i <= trigger.length - 1; i++) {

    // на каждую найденную кнопку вешаем событие
    trigger[i].addEventListener("click", () => {

      let headerBlock = trigger[i].parentNode;
      let mainBlock = headerBlock;

      activatingAccordion(trigger, mainBlock);
    })
  }

  // Функция активации аккордиона
  function activatingAccordion(trigger, mainBlock) {

    let bool = 0;

    //проверка на активность блока
    for (condition of mainBlock.classList) {
      if (condition === "accordion-active") {
        bool = 1;
      }
    }

    // если блок не был активным, мы его активируем
    if (!bool) {
      let element;
      deleteActiveAccordion(trigger);
      mainBlock.classList.add("accordion-active");
      element = mainBlock.querySelectorAll(".accordion-panel");
      for (let i = 0; i <= element.length - 1; i++) {
        element[i].classList.add("accordion-active-panel");
      }
    }
  }

//  // Функция удаляющая класс актив у всех блоков
  function deleteActiveAccordion(trig) {
    for (let i = 0; i <= trig.length - 1; i++) {
      let headerBlock = trig[i].parentNode;
      let mainBlock = headerBlock;

      for (let k = 0; k < mainBlock.classList.length; k++) {

        //Проверка на активный блок
        if (mainBlock.classList[k] === "accordion-active") {

          //удаление класса со всех активных блоков
          mainBlock.classList.remove("accordion-active");
          let blocksActive;
          blocksActive = mainBlock.querySelectorAll(".accordion-active-panel")

          //цикл удаляющий активный блок с контентом
          for (let j = 0; j <= blocksActive.length - 1; j++) {
            blocksActive[j].classList.remove("accordion-active-panel");
          }
        }
      }
    }
  }
}

accordion();
